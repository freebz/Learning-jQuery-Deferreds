<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>
  <body>
    <span id="label-1">Label-1</span>
    <span id="label-2">Lable-2</span>

    <script type="text/javascript">

      var promise1 = $('#label-1').animate({ opacity: 0.25 }, 100).promise();
      var promise2 = $('#label-2').animate({ opacity: 0.75 }, 200).promise();
      
      $.when(
	  $.ajax('http://google.com').then(function(){
	      return $('#label-1').animate({ opacity: 0.25 }, 100);
	  }),
	  $.ajax('http://yahoo.com')).then(function(){
	      return $('#label-2').animate({ opacity: 0.75 }, 200);
	  }
      ).then(
	  function(){
	      // Both URLs have been fetched and both animations have completed.
	      console.log('Both URLs have been fetched and both animations have completed.');
	  }
      );	  

    </script>
  </body>
</html>
