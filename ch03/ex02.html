<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>
  <body>
    <script type="text/javascript">

      setTimeout(function(){
	  console.log('Display after half a second');
      }, 500);
      console.log('Display immediately (unblocked)');

      function wait(timeout){
	  var deferred = $.Deferred();
	  setTimeout(deferred.resolve, timeout);
	  return deferred.promise();
      }

      wait(500).done(function(){
	  console.log('Timeout fired!');
      });

    </script>
  </body>
</html>
